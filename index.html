<!DOCTYPE html>
<html lang="en">
  <head>
    <!--
      Site created by Brian Design on youtube @ www.youtube.com/channel/UCsKsymTY_4BYR-wytLjex7A?view_as=subscriber
    -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BurningUp</title>
    <link rel="stylesheet" href="styles.css" />
    <script
      src="https://kit.fontawesome.com/3bfbb9ac03.js"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Navbar Section -->
    <nav class="navbar">
      <div class="navbar__container">
        <a href="/" id="navbar__logo"
          ><i class="fa-solid fa-fire"></i>BurningUp</a
        >
        <div class="navbar__toggle" id="mobile-menu">
          <span class="bar"></span> <span class="bar"></span>
          <span class="bar"></span>
        </div>
        <ul class="navbar__menu">
          <li class="navbar__item">
            <a href="/" class="navbar__links">Home</a>
          </li>
          <!-- <li class="navbar__item">
            <a href="/tech.html" class="navbar__links">About</a>
          </li>
          <li class="navbar__item">
            <a href="/" class="navbar__links">Products</a>
          </li> -->
          <!-- <li class="navbar__btn"><a href="/" class="button">Sign Up</a></li> -->
        </ul>
      </div>
    </nav>

    <!-- Hero Section -->
    <div class="main">
      <div class="main__container">
        <div class="main__content">
          <h1>Understand Your Burnout.<br />Track Your Mood.</h1>
          <p>
            A science-based burnout test and daily mood tracker that helps you
            understand your stress levels ‚Äî and share your results with your
            doctor.
          </p>
          <div style="margin-top: 1.5rem; font-size: 1.1rem; color: #7ebcf4">
            üì≤ <strong id="download-count">Loading...</strong> downloads
          </div>
          <button class="main__btn">
            <a href="/download.html">Download For Android</a>
          </button>
        </div>
        <div class="main__img--container">
          <img id="main__img" src="images/apppic.png" />
        </div>
      </div>
    </div>

    <section id="features" class="features">
      <h2>Why BurningUp?</h2>
      <div class="feature-grid">
        <div class="feature-card">
          <h3>üß† Understand Burnout</h3>
          <p>Take a quick, validated burnout test and see where you stand.</p>
        </div>
        <div class="feature-card">
          <h3>üòä Track Your Mood</h3>
          <p>Record your daily mood and notice patterns over time.</p>
        </div>
        <div class="feature-card">
          <h3>üìä Doctor-Ready Report</h3>
          <p>Generate a detailed, shareable burnout summary for your doctor.</p>
        </div>
        <div class="feature-card">
          <h3>üîí Private by Design</h3>
          <p>Your data stays on your device ‚Äî we never share or store it.</p>
        </div>
      </div>
    </section>

    <form onsubmit="sendFeedback(event)" class="feedback-section">
      <div class="feedback-container">
        <h2>Share Your Feedback</h2>
        <p style="color: #d1d1d1; margin-bottom: 2rem">
          Help us improve BurningUp with your thoughts and suggestions
        </p>
        <div class="feedback-form">
          <input
            type="email"
            id="email"
            placeholder="Your Email"
            required
            class="feedback-input"
          />
          <textarea
            id="comment"
            placeholder="Share your feedback, suggestions, or concerns..."
            required
            class="feedback-textarea"
          ></textarea>
          <button type="submit" class="feedback-btn">
            <i class="fas fa-paper-plane" style="margin-right: 0.5rem"></i> Send
            Feedback
          </button>
          <div
            id="feedback-message"
            style="margin-top: 1rem; text-align: center"
          ></div>
        </div>
      </div>
    </form>

    <!-- Footer Section -->
    <div class="footer__container">
      <div class="footer__links">
        <div class="footer__link--wrapper">
          <div class="footer__link--items">
            <h2>About Us</h2>
            <a href="/sign__up">How it works</a> <a href="/">Testimonials</a>
            <a href="/">Careers</a> <a href="/">Investments</a>
            <a href="/">Terms of Service</a>
          </div>
          <div class="footer__link--items">
            <h2>Contact Us</h2>
            <a href="/">Contact</a> <a href="/">Support</a>
            <a href="/">Destinations</a> <a href="/">Sponsorships</a>
          </div>
        </div>
        <div class="footer__link--wrapper">
          <div class="footer__link--items">
            <h2>Videos</h2>
            <a href="/">Submit Video</a> <a href="/">Ambassadors</a>
            <a href="/">Agency</a> <a href="/">Influencer</a>
          </div>
          <div class="footer__link--items">
            <h2>Social Media</h2>
            <a href="/">Instagram</a> <a href="/">Facebook</a>
            <a href="/">Youtube</a> <a href="/">Twitter</a>
          </div>
        </div>
      </div>
      <section class="social__media">
        <div class="social__media--wrap">
          <div class="footer__logo">
            <a href="/" id="footer__logo"
              ><i class="fa-solid fa-fire"></i>BurningUp</a
            >
          </div>
          <p class="website__rights">¬©BurningUp 2025. All rights reserved</p>
          <div class="social__icons">
            <a
              class="social__icon--link"
              href="/"
              target="_blank"
              aria-label="Facebook"
            >
              <i class="fab fa-facebook"></i>
            </a>
            <a
              class="social__icon--link"
              href="/"
              target="_blank"
              aria-label="Instagram"
            >
              <i class="fab fa-instagram"></i>
            </a>
            <a
              class="social__icon--link"
              href="//www.youtube.com/channel/UCsKsymTY_4BYR-wytLjex7A?view_as=subscriber"
              target="_blank"
              aria-label="Youtube"
            >
              <i class="fab fa-youtube"></i>
            </a>
            <a
              class="social__icon--link"
              href="/"
              target="_blank"
              aria-label="Twitter"
            >
              <i class="fab fa-twitter"></i>
            </a>
            <a
              class="social__icon--link"
              href="/"
              target="_blank"
              aria-label="LinkedIn"
            >
              <i class="fab fa-linkedin"></i>
            </a>
          </div>
        </div>
      </section>
    </div>
    <script src="app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
      const supabase = window.supabase.createClient(
        "https://cmkvetkmcdfgkomxpsbs.supabase.co",
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNta3ZldGttY2RmZ2tvbXhwc2JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNzAyOTcsImV4cCI6MjA3ODk0NjI5N30.UVJPUhlmeVF7IQzHk_Y5jXMt4Mzwxw2JCZtMChmKmpw"
      );

      // Fetch and display download count
      async function loadDownloadCount() {
        try {
          const { data, error } = await supabase
            .from("downloads")
            .select("count")
            .single();

          if (error) {
            console.error("Error fetching download count:", error);
            document.getElementById("download-count").textContent = "0";
          } else {
            document.getElementById("download-count").textContent =
              data?.count || 0;
          }
        } catch (err) {
          console.error("Unexpected error:", err);
          document.getElementById("download-count").textContent = "0";
        }
      }

      // Send feedback to Supabase
      async function sendFeedback(event) {
        event.preventDefault();

        const email = document.getElementById("email").value;
        const comment = document.getElementById("comment").value;
        const feedbackMessage = document.getElementById("feedback-message");

        // Clear previous messages
        feedbackMessage.textContent = "";
        feedbackMessage.style.color = "";

        try {
          const { data, error } = await supabase.from("feedback").insert([
            {
              email: email,
              comment: comment,
              created_at: new Date().toISOString(),
            },
          ]);

          if (error) {
            console.error("Error sending feedback:", error);
            feedbackMessage.textContent =
              "‚ùå Failed to send feedback. Please try again.";
            feedbackMessage.style.color = "#ff6b6b";
          } else {
            feedbackMessage.textContent =
              "‚úÖ Thank you! Your feedback has been sent successfully.";
            feedbackMessage.style.color = "#51cf66";

            // Clear form
            document.getElementById("email").value = "";
            document.getElementById("comment").value = "";

            // Clear message after 4 seconds
            setTimeout(() => {
              feedbackMessage.textContent = "";
            }, 4000);
          }
        } catch (err) {
          console.error("Unexpected error:", err);
          feedbackMessage.textContent =
            "‚ùå An error occurred. Please try again.";
          feedbackMessage.style.color = "#ff6b6b";
        }
      }

      // Load download count on page load
      window.addEventListener("load", loadDownloadCount);
    </script>
  </body>
</html>
